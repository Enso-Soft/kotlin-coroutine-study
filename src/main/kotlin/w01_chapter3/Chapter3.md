> 'ì •ì„ì¤€ë‹˜ (https://github.com/sjjeong)'ê»˜ì„œ ì£¼ê´€í•˜ëŠ” Kotlin Coroutine ìŠ¤í„°ë”” ì§„í–‰ ê³¼ì •
**ì½”í‹€ë¦° ì½”ë£¨í‹´ì˜ ì •ì„** ì±…ì„ ì½ê³  ì´í•´í•œ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ì •ë¦¬í•˜ì—¬ ê¸€ì„ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤. ë¶€ì¡±í•œ ë¶€ë¶„ì´ë‚˜, í‹€ë¦° ë¶€ë¶„ì´ ìˆë‹¤ë©´ ë°˜ì˜í•  ìˆ˜ ìˆë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

## 3ì¥ - CoroutineDispatcher
### CoroutineDispatcher ë€?
_Dispatcher ë€ ë¬´ì—‡ì¼ê¹Œìš”?_
**Dispatch** : ë³´ë‚´ë‹¤
ëœ»ì— -er ê°€ ë¶™ì–´ì„œ 'ë¬´ì–¸ê°€ë¥¼ ë³´ë‚´ëŠ” ì£¼ì²´' ë¼ëŠ” ëœ» ì…ë‹ˆë‹¤.

ì—¬ê¸°ì—ì„œ Coroutine ì´ ë¶™ëŠ”ë‹¤ë©´ **ì½”ë£¨í‹´ì„ ë³´ë‚´ì£¼ëŠ” ì£¼ì²´** ê°€ ë©ë‹ˆë‹¤.
ì½”ë£¨í‹´ì„ ì–´ë””ë¡œ ë³´ë‚´ëŠ” ê²ƒ ì¼ê¹Œ? ë°”ë¡œ ìŠ¤ë ˆë“œ ì…ë‹ˆë‹¤.

ì½”ë£¨í‹´ ì¼ì‹œ ì¤‘ë‹¨ì´ ê°€ëŠ¥í•œ **ì‘ì—…** ì´ê¸° ë•Œë¬¸ì— ì–´ë–¤ ìŠ¤ë ˆë“œì—ì„œ **ì‘ì—…**ì„ ì‹¤í–‰í•˜ì§€ ê²°ì •í•˜ëŠ” ì—­í• ì„ í•˜ê²Œ í•˜ëŠ” ê²ƒì´ CoroutineDispatcher ì…ë‹ˆë‹¤.

### CoroutineDispatcher ë™ì‘
ì½”ë£¨í‹´ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œ 2ê°œì˜ ìŠ¤ë ˆë“œë¥¼ êµ¬ì„±ëœ ìŠ¤ë ˆë“œí’€ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” CoroutineDispatcher ê°ì²´ë¥¼ ê°€ì •í•˜ì—¬, ê·¸ë¦¼ì„ ê·¸ë¦°ë‹¤ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.
![](https://velog.velcdn.com/images/tien/post/76ab272e-95ba-4ae8-b65d-4b4306f8d22c/image.png)

CoroutineDispatcher ê°ì²´ëŠ” ì‹¤í–‰ë¼ì•¼ í•˜ëŠ” ì‘ì—…ì„ ì €ì¥í•˜ëŠ” **ì‘ì—… ëŒ€ê¸°ì—´**ì„ ê°€ì§‘ë‹ˆë‹¤.
CoroutineDispatcher ê°ì²´ëŠ” ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” **ìŠ¤ë ˆë“œí’€**ì—ëŠ” Thread-1, Thread-2 ë¼ëŠ” ìŠ¤ë ˆë“œê°€ í¬í•¨ë˜ì–´ìˆìŠµë‹ˆë‹¤.

![](https://velog.velcdn.com/images/tien/post/41d46b5f-84db-4cf6-809c-12d857963f15/image.png)

CoroutineDispatcher ê°ì²´ì— Coroutine1 ì‘ì—… ìš”ì²­ì´ ì˜¨ë‹¤ë©´

![](https://velog.velcdn.com/images/tien/post/22322c56-2f10-40a6-8d8e-53dde1ff9c21/image.png)

ì‘ì—… ëŒ€ê¸°ì—´ë¡œ ì ì¬ë˜ê³ , CoroutineDispatcher ê°ì²´ëŠ” ìŠ¤ë ˆë“œí’€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìŠ¤ë ˆë“œê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í•˜ê³ 

![](https://velog.velcdn.com/images/tien/post/0d82eb46-e505-4ec9-b3bf-84c49fdfa698/image.png)

Thread-1 ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ CoroutineDispatcher ì‘ì—… ëŒ€ê¸°ì—´ì— ì ì¬ì¤‘ì¸ Coroutine1 ì€ í•´ë‹¹ ìŠ¤ë ˆë“œë¡œ ë³´ë‚´ ì‹¤í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.

ì´ì™€ ê°™ì€ ë™ì‘ì„±ìœ¼ë¡œ ë™ì¼ CoroutineDispatcher ê°ì²´ì— ì—¬ëŸ¬ê°œì˜ Coroutineì„ ìš”ì²­í•˜ê²Œ ëœë‹¤ë©´ ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¤ë ˆë“œí’€ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìŠ¤ë ˆë“œë¥¼ ì°¾ì•„ì„œ ì½”ë£¨í‹´ì„ ì ì ˆíˆ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

### CoroutineDispatcher ì—­í• 
ì •ë¦¬í•˜ìë©´ CoroutineDispatcherëŠ” ì½”ë£¨í‹´ì˜ ì‹¤í–‰ì„ ê´€ë¦¬í•˜ëŠ” ì£¼ì²´ë¡œ ìì‹ ì—ê²Œ ì‹¤í–‰ ìš”ì²­ëœ ì½”ë£¨í‹´ë“¤ì„ ì‘ì—… ëŒ€ê¸°ì—´ì— ì ì¬í•˜ê³ , ìì‹ ì´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìŠ¤ë ˆë“œê°€ ìƒˆë¡œìš´ ì‘ì—…ì„ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ìƒíƒœë¼ë©´ ìŠ¤ë ˆë“œë¡œ ì½”ë£¨í‹´ì„ ë³´ë‚´ ì‹¤í–‰ë  ìˆ˜ ìˆê²Œ ë§Œë“œëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.
> _**[ì½”í‹€ë¦° ì½”ë£¨í‹´ì˜ ì •ì„ ì±…]** ë°œì·Œ_
CoroutineDispatcher ê°ì²´ì— ì½”ë£¨í‹´ì˜ ì‹¤í–‰ì´ ìš”ì²­ë˜ë©´ ì¼ë°˜ì ìœ¼ë¡œëŠ” ì‘ì—… ëŒ€ê¸°ì—´ì— ì ì¬í•œ í›„ì— ìŠ¤ë ˆë“œë¡œ ë³´ë‚¸ë‹¤. <br>
í•˜ì§€ë§Œ ì½”ë£¨í‹´ì˜ ì‹¤í–‰ ì˜µì…˜ì— ë”°ë¼ ì‘ì—… ëŒ€ê¸°ì—´ì— ì ì¬ë˜ì§€ ì•Šê³ , ì¦‰ì‹œ ì‹¤í–‰ë  ìˆ˜ë„ ìˆê³ , ì‘ì—… ëŒ€ê¸°ì—´ì´ ì—†ëŠ” CoroutineDispatcher êµ¬í˜„ì²´ë„ ìˆë‹¤. ì´ëŠ” ë§¤ìš° ì˜ˆì™¸ì ì¸ ê²½ìš°ì´ë‹¤.

### ì œí•œëœ ë””ìŠ¤íŒ¨ì²˜ / ë¬´ì œí•œ ë””ìŠ¤íŒ¨ì²˜
ì§€ê¸ˆê¹Œì§€ ê·¸ë¦¼ìœ¼ë¡œ ì„¤ëª…í•œ CoroutineDispatcher ì˜ ê²½ìš° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìŠ¤ë ˆë“œí’€ì„ ì œí•œ í•œê²½ìš°ë¡œ **ì œí•œëœ ë””ìŠ¤íŒ¨ì²˜**ë¡œ CoroutineDispatcher ê°ì²´ê°€ ì–´ë–¤ ì‘ì—…ì„ ì²˜ë¦¬í• ì§€ ë¯¸ë¦¬ ì—­í• ì„ ë¶€ì—¬í•˜ê³  ì—­í• ì— ë§ì¶° ìš”ì²­ì— ëŒ€í•œ ì‹¤í–‰ì„ í•©ë‹ˆë‹¤.

í•˜ì§€ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìŠ¤ë ˆë“œê°€ ì œí•œ ë˜ì§€ ì•Šì€ CoroutineDispatcher ê°ì²´ë„ ì¡´ì¬í•˜ë©°, ì´ë¥¼ **ë¬´ì œí•œ ë””ìŠ¤íŒ¨ì²˜**ë¼ ë¶€ë¦…ë‹ˆë‹¤. ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ìŠ¤ë ˆë“œê°€ ì œí•œë˜ì§€ ì•Šì•˜ë‹¤ê³  í•´ì„œ ììœ ë¡œìš´ ìŠ¤ë ˆë“œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ì—¬ ë¬´ì œí•œ ë””ìŠ¤íŒ¨ì²˜ë¼ ë¶€ë¥´ëŠ”ê²ƒì´ ì•„ë‹Œ ì‹¤í–‰ ìš”ì²­ëœ ì½”ë£¨í‹´ì´ ì´ì „ ì½”ë“œê°€ ì‹¤í–‰ ë˜ë˜ ìŠ¤ë ˆë“œì—ì„œ ê³„ì†í•´ì„œ ì‹¤í–‰ë˜ë„ë¡ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

í˜„ì¬ ë‚´ìš©ì—ëŠ” ì œí•œëœ ë””ìŠ¤íŒ¨ì²˜ë§Œì„ ë‹¤ë£¨ëŠ” ë‚´ìš©ì„ ì‘ì„±í•  ì˜ˆì •ì…ë‹ˆë‹¤

### ì œí•œëœ ë””ìŠ¤íŒ¨ì²˜ ìƒì„± ì½”ë“œë¡œ ë³´ê¸°
ì´ì œ Kotlin ì½”ë“œë¡œ ì‹¤ì œ ì œí•œëœ ë””ìŠ¤íŒ¨ì²˜ë¥¼ ìƒì„± í•´ë³´ë¡í•˜ê² ìŠµë‹ˆë‹¤.
ìœ„ì—ì„œ ì„¤ëª…í•œ ê·¸ë¦¼ì„ ê³„ì†í•´ì„œ ìƒê°í•´ì£¼ì‹œê³ , ì½”ë“œì— ì ìš©í•´ì„œ ë³´ì‹œë©´ ë”ìš± ì´í•´í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤!

#### ë‹¨ì¼ ìŠ¤ë ˆë“œ ë””ìŠ¤íŒ¨ì²˜
``` kotlin
fun main() = runBlocking {
    val singleDispatcher: CoroutineDispatcher = newSingleThreadContext(
    	name = "Single Thread"
    )
    
	...
}
```
ìœ„ì™€ ê°™ì´ newSingleThreadContext í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ ë‹¨ì¼ ìŠ¤ë ˆë“œ ë””ìŠ¤íŒ¨ì²˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ìƒì„±í•œ CoroutineDispatcher ê°ì²´ì˜ ìŠ¤ë ˆë“œí’€ì€ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¦„ì€ "Single Thread" ì…ë‹ˆë‹¤.

```kotlin
repeat(10) {
	launch(context = singleDispatcher) {
		println("[${Thread.currentThread().name}] ì‹¤í–‰")
	}
}
```
ìƒì„±í•œ CoroutineDispatcher ë¥¼ ì‚¬ìš©í•˜ì—¬ ì½”ë£¨í‹´ì„ ì‹¤í–‰í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> **[ê²°ê³¼]** <br>
[Single Thread @coroutine#2] ì‹¤í–‰ <br>
[Single Thread @coroutine#3] ì‹¤í–‰ <br>
[Single Thread @coroutine#4] ì‹¤í–‰ <br>
[Single Thread @coroutine#5] ì‹¤í–‰ <br>
[Single Thread @coroutine#6] ì‹¤í–‰ <br>
[Single Thread @coroutine#7] ì‹¤í–‰ <br>
[Single Thread @coroutine#8] ì‹¤í–‰ <br>
[Single Thread @coroutine#9] ì‹¤í–‰ <br>
[Single Thread @coroutine#10] ì‹¤í–‰ <br>
[Single Thread @coroutine#11] ì‹¤í–‰ <br>

Single Thread ë§Œì„ ì´ìš©í•´ì„œ ì½”ë£¨í‹´ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ë©€í‹° ìŠ¤ë ˆë“œ ë””ìŠ¤íŒ¨ì²˜
```kotlin
fun main() = runBlocking {
    val multiDispatcher: CoroutineDispatcher = newFixedThreadPoolContext(
        nThreads = 2,
        name = "Multi Thread"
    )
    
    ...
}
```
newFixedThreadPoolContext í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬, ë©€í‹° ìŠ¤ë ˆë“œ ë””ìŠ¤íŒ¨ì²˜ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ìƒì„±í•œ CoroutineDispatcher ê°ì²´ì˜ ìŠ¤ë ˆë“œí’€ì€ 2ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¦„ì€ "Multi Thread" ì…ë‹ˆë‹¤.

```kotlin
repeat(10) {
	launch(context = multiDispatcher) {
		println("[${Thread.currentThread().name}] ì‹¤í–‰")
	}
}
```
ìƒì„±í•œ CoroutineDispatcher ë¥¼ ì‚¬ìš©í•˜ì—¬ ì½”ë£¨í‹´ì„ ì‹¤í–‰í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> **[ê²°ê³¼]** <br>
[Multi Thread-2 @coroutine#3] ì‹¤í–‰ <br>
[Multi Thread-1 @coroutine#2] ì‹¤í–‰ <br>
[Multi Thread-1 @coroutine#4] ì‹¤í–‰ <br>
[Multi Thread-1 @coroutine#5] ì‹¤í–‰ <br>
[Multi Thread-2 @coroutine#6] ì‹¤í–‰ <br>
[Multi Thread-1 @coroutine#7] ì‹¤í–‰ <br>
[Multi Thread-2 @coroutine#8] ì‹¤í–‰ <br>
[Multi Thread-1 @coroutine#9] ì‹¤í–‰ <br>
[Multi Thread-2 @coroutine#10] ì‹¤í–‰ <br>
[Multi Thread-1 @coroutine#11] ì‹¤í–‰ <br>

Multi Thread-1 / Multi Thread-2 ë‘ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì½”ë£¨í‹´ì„ ì‹¤í–‰í•œ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

_**ì—¬ê¸°ì„œ ì ê¹**_
newSingleThreadContextì™€ newFixedThreadPoolContext í•¨ìˆ˜ë¥¼ ë³´ë©´ ìŠ¤ë ˆë“œ ê°¯ìˆ˜ê°€ 1ê°œì¸ ê²ƒê³¼ Nê°œ ì¸ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°ìš”. ì‹¤ì œ í•¨ìˆ˜ êµ¬í˜„ë¶€ìª½ì„ ë“¤ì—¬ë‹¤ë³´ë©´
![](https://velog.velcdn.com/images/tien/post/16265830-380f-4cd5-9a3a-1de48c36852c/image.png)

![](https://velog.velcdn.com/images/tien/post/8a803893-ad5f-4a21-80e6-bf962beb3853/image.png)

newSingleThreadContext í•¨ìˆ˜ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ nThreads = 1ë¡œ ê°€ì§„ newFixedThreadPoolContext ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒìœ¼ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê²°êµ­ ê°™ì€ ë‘ í•¨ìˆ˜ ëª¨ë‘ ê°™ì€ í•¨ìˆ˜ë¡œ ì‚¬ìš©í•¨ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  newFixedThreadPoolContext í•¨ìˆ˜ë¥¼ ë³´ë©´ **isDaemon = true** ë¡œ ë˜ì–´ìˆëŠ”ê±¸ ë³´ë©´ Coroutine ì—ì„œ ì‚¬ìš©í•˜ëŠ” ìŠ¤ë ˆë“œëŠ” ì‘ë™ì¤‘ì´ë”ë¼ë„ Process ê°€ ì¢…ë£Œ ë  ìˆ˜ ìˆìŒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¶€ë¶„ì— ëŒ€í•´ì„œëŠ” ë‹¤ìŒ íŒŒíŠ¸ì—ì„œ ë°”ë¡œ ì„¤ëª… ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

ì—¬ê¸°ì—ì„œ ê°œë°œì ì¸ ê¶ê¸ˆì¦ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.
ì™œ **OverLoading** ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  í•¨ìˆ˜ ì´ë¦„ì„ ë‹¤ë¥´ê²Œ í–ˆì„ê¹Œ?
ì£¼ê´€ì ì¸ ìƒê°ì—ì„œëŠ” ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‚¬ëŒì´ ì •ë§ë¡œ ì£¼ì˜í•´ì„œ ì‚¬ìš©ì„ í•´ì£¼ì—ˆìœ¼ë©´ ì¢‹ê² ë‹¤ ë¼ëŠ” ì˜ë„ë¥¼ í’ˆì€ê²ƒì´ ì•„ë‹ê¹Œ ìƒê°í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ê·¸ëŸ°ë° newFixedThreadPoolContext í•¨ìˆ˜ì—ì„œ ì´ì™€ ê°™ì€ ê²½ê³ ê°€ ì¶œë ¥ ë˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.
> This is a delicate API. The result of this method is a closeable resource with the associated native resources (threads). It should not be allocated in place, should be closed at the end of its lifecycle, and has non-trivial memory and CPU footprint. If you do not need a separate thread-pool, but only have to limit effective parallelism of the dispatcher, it is recommended to use CoroutineDispatcher.limitedParallelism instead.
>
_ì´ APIëŠ” ì‹ ì¤‘í•˜ê²Œ ë‹¤ë¤„ì•¼ í•©ë‹ˆë‹¤. ì´ ë©”ì„œë“œì˜ ê²°ê³¼ëŠ” closeableí•œ ë¦¬ì†ŒìŠ¤ì´ë©°, ê´€ë ¨ëœ ë„¤ì´í‹°ë¸Œ ë¦¬ì†ŒìŠ¤(ì˜ˆ: ìŠ¤ë ˆë“œ)ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ ì¦‰ì„ì—ì„œ í• ë‹¹í•˜ë©´ ì•ˆ ë˜ë©°,
ìˆ˜ëª… ì£¼ê¸°ê°€ ëë‚  ë•Œ ë°˜ë“œì‹œ ë‹«ì•„ì•¼ í•©ë‹ˆë‹¤.
ë˜í•œ, ë¹„íš¨ìœ¨ì ì¸ ë©”ëª¨ë¦¬ ë° CPU ì‚¬ìš© ê°€ëŠ¥ì„±ì´ ë†’ìœ¼ë¯€ë¡œ ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.
ë§Œì•½ ë³„ë„ì˜ ìŠ¤ë ˆë“œ í’€ì„ ìƒì„±í•  í•„ìš”ê°€ ì—†ê³ , ë‹¨ìˆœíˆ ë””ìŠ¤íŒ¨ì²˜ì˜ ë™ì‹œ ì‹¤í–‰ ìˆ˜ì¤€(ë³‘ë ¬ì„±)ì„ ì œí•œí•˜ë ¤ëŠ” ê²½ìš° ğŸ‘‰ CoroutineDispatcher.limitedParallelismì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê¶Œì¥ë©ë‹ˆë‹¤._

ì´ëŸ¬í•œ ê²½ê³ ë¥¼ í•˜ëŠ” ì´ìœ ëŠ” ê°œë°œìê°€ ì§ì ‘ ë””ìŠ¤íŒ¨ì²˜ ê°ì²´ë¥¼ ë§Œë“œëŠ” í–‰ìœ„ëŠ” ë¹„íš¨ìœ¨ì ì¼ ê°€ëŠ¥ì„±ì´ ë†’ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì œëŒ€ë¡œ ê´€ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì´ë¯¸ ë§Œë“  CoroutineDispatcher ê°ì²´ëŠ” ë©”ëª¨ë¦¬ì— ê²Œì†í•´ì„œ ì¡´ì¬í•  ê²ƒì´ë©°, ì´ë¥¼ ì˜ëª» ë‹¤ë¥¼ ê²½ìš° ê³„ì†í•´ì„œ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ ë¦¬ì†ŒìŠ¤ ë‚­ë¹„ë¥¼ í•  ìˆ˜ ìˆë‹¤ë¼ëŠ” ê²ƒì…ë‹ˆë‹¤.

> _ì´ ë•Œë¬¸ì— í•¨ìˆ˜ ì„¤ê³„ë¶€í„° ì˜ë„ë¥¼ í’ˆê³  ìˆëŠ”ê²ƒì´ ëŠê»´ì ¸ì„œ ë‹¤ì‹œ í•œë²ˆ ì¢‹ì€ ê°œë°œì€ ì–´ë–»ê²Œ í•´ì•¼í•˜ëŠ”ì§€ì— ëŒ€í•´ì„œ ë°°ìš°ëŠ” ê³„ê¸°ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤._

ë‹¤ì‹œ ì›ë˜ ë‚´ìš©ì„ ì´ì–´ì„œ ì„¤ëª…í•˜ìë©´ ì½”ë£¨í‹´ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ê°œë°œìê°€ ì§ì ‘ CoroutineDispatcher ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë¬¸ì œë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ë¯¸ë¦¬ ì •ì˜ëœ CoroutineDispatcher ëª©ë¡ì„ ì œê³µí•©ë‹ˆë‹¤.

### Thread ì—ì„œ isDaemon ì´ë€?
JVM í”„ë¡œì„¸ìŠ¤ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë©”ì¸ ìŠ¤ë ˆë“œì˜ ì‘ì—…ì´ ì¢…ë£Œë˜ë©´ ì¢…ë£Œëœë‹¤.
í•˜ì§€ë§Œ ìƒˆë¡œìš´ ìŠ¤ë ˆë“œë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ë§Œë“ ë‹¤ë©´ ë©”ì¸ ìŠ¤ë ˆë“œì˜ ì‘ì—…ì´ ì™„ë£Œ ë  ë•Œ ì¢…ë£Œë˜ëŠ”ê²ƒì´ ì•„ë‹Œ ìƒˆë¡œìš´ ìŠ¤ë ˆë“œì˜ ì‘ì—…ê¹Œì§€ ì™„ë£Œ ë˜ì–´ì•¼ì§€ë§Œ í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œ ë©ë‹ˆë‹¤.

JVM ì—ì„œ ìŠ¤ë ˆë“œëŠ” ë‘ ì¢…ë¥˜ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆëŠ”ë°, ì´ë¥¼ **ì‚¬ìš©ì ìŠ¤ë ˆë“œ**ì™€ **ë°ëª¬ ìŠ¤ë ˆë“œ**ë¡œ êµ¬ë¶„í•©ë‹ˆë‹¤.
**ì‚¬ìš©ì ìŠ¤ë ˆë“œ** : ìš°ì„ ë„ê°€ ë†’ì€ ìŠ¤ë ˆë“œ
**ë°ëª¬ ìŠ¤ë ˆë“œ** : ìš°ì„ ë„ê°€ ë‚®ì€ ìŠ¤ë ˆë“œ

ìƒˆë¡œìš´ ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•  ë•Œ ì•„ë˜ì™€ ê°™ì´ ì§€ì • í•´ì¤„ ìˆ˜ ìˆë‹¤.
```kotlin
NewThread().apply() {
	isDaemon = true op false
}
```

### Dispatchers.IO
> _Dispatcher.IO_ ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¤ë ˆë“œì˜ ìˆ˜ëŠ” JVMì—ì„œ ì‚¬ìš©ì´ ê°€ëŠ¥í•œ í”„ë¡œì„¸ì„œì˜ ìˆ˜ì™€ 64ê°œ ì¤‘ í° ê°’ì„ ì„¤ì • ë©ë‹ˆë‹¤.
>
ì˜ˆë¥¼ë“¤ì–´ JVMì—ì„œ ì‚¬ìš©ì´ ê°€ëŠ¥í•œ í”„ë¡œì„¸ì„œì˜ ìˆ˜ê°€ 24ê°œ ì¼ ê²½ìš°ì—ëŠ” 64ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì„¤ì • ë©ë‹ˆë‹¤.
ë‹¤ë¥¸ ìƒí™©ìœ¼ë¡œ ì‚¬ìš©ì´ ê°€ëŠ¥í•œ í”„ë¡œì„¸ì„œì˜ ìˆ˜ê°€ 100ê°œ ì¼ ê²½ìš°ì—ëŠ” 100ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •ì´ ë©ë‹ˆë‹¤.

ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ í•˜ê±°ë‚˜ DB ì‘ì—… ê°™ì€ ì…ì¶œë ¥ ì‘ì—… ì—¬ëŸ¬ ê°œë¥¼ ë™ì‹œì— ìˆ˜í–‰í•˜ê¸° ìœ„í•´ì„œ ë§ì€ ìŠ¤ë ˆë“œê°€ í•„ìš”í•˜ë‹¤. ì´ë¥¼ ìœ„í•´ ì½”ë£¨í‹´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ë¯¸ë¦¬ ì •ëœ Dispatcher.IO ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

![](https://velog.velcdn.com/images/tien/post/9194f34b-6a74-4ed3-a261-2808e3d0859a/image.png)

![](https://velog.velcdn.com/images/tien/post/6bd38756-daaf-43db-abb6-9d6b25787214/image.png)

Dispatchers.IOëŠ” ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤ ì´ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì´ launch í•¨ìˆ˜ ì¸ìë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```kotlin
fun main() = runBlocking<Unit> {
    launch(context = Dispatchers.IO) {
        println("[${Thread.currentThread().name}] IO ì‹¤í–‰")
    }
}
```

### Dispatchers.Default
> _Dispatchers.Default_ ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¤ë ˆë“œì˜ ìˆ˜ëŠ” ë””ë°”ì´ìŠ¤ì˜ CPU ì½”ì–´ì˜ ìˆ˜ì™€ 2ê°œ ì¤‘ í° ê°’ìœ¼ë¡œ ì„¤ì • ë©ë‹ˆë‹¤.
>
ì˜ˆë¥¼ ë“¤ì–´ CPU ì½”ì–´ê°€ 8ê°œì¸ í™˜ê²½ì—ì„œëŠ” 8ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, 1ê°œì¸ í™˜ê²½ì—ì„œëŠ” 2ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” ì‘ì—… ì²˜ëŸ¼ CPU ì—°ì‚°ì´ í•„ìš”í•œ ì‘ì—…ì´ ìˆìœ¼ë©°, ì´ë¥¼ CPU ë°”ìš´ë“œ ì‘ì—…ì´ë¼ê³  í•©ë‹ˆë‹¤. Dispatchers.DefaultëŠ” CPU ë°”ìš´ë“œ ì‘ì—…ì´ í•„ìš”í• ë•Œ ì‚¬ìš©í•˜ëŠ” CoroutineDispatcher ì…ë‹ˆë‹¤.

Dispatchers.DefaultëŠ” ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤ ì´ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì´ launch í•¨ìˆ˜ ì¸ìë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```kotlin
fun main() = runBlocking<Unit> {
    launch(context = Dispatchers.Default) {
        println("[${Thread.currentThread().name}] Default ì‹¤í–‰")
    }
}
```

### Dispatchers.Main
Dispatchers.IOë‚˜ Dispatchers.Defaultì™€ ë‹¬ë¦¬ UIê°€ ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë©”ì¸ ìŠ¤ë ˆë“œì˜ ì‚¬ìš©ì„ ìœ„í•´ ì‚¬ìš©ë˜ëŠ” CoroutineDispatcher ê°ì²´ ì…ë‹ˆë‹¤. ì´ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë³„ë„ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì¶”ê°€í•˜ì—¬ (ex kotlinx-coreoutines-android ë“±) ì„ ì¶”ê°€í•´ì•¼ì•¼ì§€ë§Œ Dispatchers.Main êµ¬í˜„ì²´ë¥¼ ì œê³µí•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.

### limitedParallelism ì‚¬ìš©í•´ì„œ CoroutineDispatcher ìŠ¤ë ˆë“œ ì œí•œ
Dispatchers.Default ë¥¼ ì‚¬ìš©í•´ì„œ ë¬´ê²ê³  ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤ë©´ ì´ë¥¼ ìœ„í•´ CoroutineDispatcherì˜ ëª¨ë“  ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë ‡ê²Œ ëœë‹¤ë©´ ìƒˆë¡œìš´ ì‘ì—…ì€ ì‘ì—… ëŒ€ê¸°ì—´ì— ë¬¶ì—¬ìˆëŠ” ìƒíƒœê°€ ë˜ì–´ë²„ë¦¬ê²Œ ë˜ë²„ë¦½ë‹ˆë‹¤.

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ CorountineDispatcher ê°ì²´ì˜ limitedParallelism í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤ë ˆë“œì˜ ìˆ˜ë¥¼ ì œí•œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```kotlin
fun main() = runBlocking<Unit> {
    launch(context = Dispatchers.Default.limitedParallelism(2)) {
        repeat(10) {
            launch {
                println("[${Thread.currentThread().name}] ì‹¤í–‰")
            }
        }
    }
}
```
>**[ê²°ê³¼]** <br>
[DefaultDispatcher-worker-1 @coroutine#4] ì‹¤í–‰ <br>
[DefaultDispatcher-worker-2 @coroutine#3] ì‹¤í–‰ <br>
... <br>
[DefaultDispatcher-worker-1 @coroutine#11] ì‹¤í–‰ <br>
[DefaultDispatcher-worker-2 @coroutine#12] ì‹¤í–‰ <br>

2ê°œì˜ ìŠ¤ë ˆë“œë§Œì„ ì‚¬ìš©í•´ì„œ Dispatchers.Default ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ”ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ê³µìœ  ìŠ¤ë ˆë“œí’€ ì´ë€?

![](https://velog.velcdn.com/images/tien/post/9f45baed-d9f6-4e1a-8b4a-6bb6264bd210/image.png)

Dispatchers.IOì™€ Dispatchers.Defaultì—ì„œ ì½”ë“œë¥¼ ì‹¤í–‰í•´ë³´ë©´ ë™ì¼í•œ ìŠ¤ë ˆë“œ ì´ë¦„ì„ ì¶œë ¥í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**DefaultDispatcher-worker** ìŠ¤ë ˆë“œ ì´ë¦„ìœ¼ë¡œ ê°™ì€ ìŠ¤ë ˆë“œí’€ì„ ì‚¬ìš© í•˜ëŠ”ë° ì´ëŠ” ì½”ë£¨í‹´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ IOì™€ Default ê°€ ê³µìœ  ìŠ¤ë ˆë“œí’€ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ë§Œì•½ ì—¬ê¸°ì—ì„œ **limitedParallelism**ì„ ì‚¬ìš©í•œë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”?
- **Dispatchers.IO**
    - ê³µìœ  ìŠ¤ë ˆë“œí’€ì˜ ìŠ¤ë ˆë“œë¡œ êµ¬ì„±ëœ ìƒˆë¡œìš´ ìŠ¤ë ˆë“œí’€ì„ ë§Œë“¤ì–´ë‚´ë©°, ìŠ¤ë ˆë“œ ìˆ˜ì˜ ì œí•œì´ ì—†ìŠµë‹ˆë‹¤.

- **Dispatchers.Default**
    - ê³µìœ  ìŠ¤ë ˆë“œí’€ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¤ë ˆë“œ ì¤‘ ì¼ë¶€ë¥¼ ì‚¬ìš©í•˜ë„ë¡ í•©ë‹ˆë‹¤. ì´ë•Œ ì„¤ì •í•œ ìŠ¤ë ˆë“œëŠ” Defaultì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ìˆ˜ë¥¼ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì— ì‹ ì¤‘íˆ ì‚¬ìš© í•´ì•¼í•©ë‹ˆë‹¤.

ì—¬ê¸°ì—ì„œ ìš°ë¦¬ê°€ ì•Œì•„ì•¼í•  ì ì€ newFixedThreadPoolContextë¡œ ë§Œë“¤ì–´ì§€ëŠ” <CoroutineDispatcher ëŠ” ìì‹ ë§Œì´ ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¤ë ˆë“œí’€ì„ ìƒì„±í•˜ëŠ” ê²ƒê³¼ ë‹¤ë¥´ê²Œ Dispatchers.IOì™€ Dispatchers.Default ëŠ” ê°™ì€ ê³µìœ  ìŠ¤ë ˆë“œí’€ì„ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì„ í™•ì‹¤í•˜ê²Œ ì•Œê³  ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤.

---

### CoroutineDispatcher ë©´ì ‘ CS ì˜ˆìƒ ì§ˆë¬¸
- **CoroutineDispatcherëŠ” ì–´ë–¤ ì—­í• ì„ í•˜ëŠ”ê°€?**
    - ì½”ë£¨í‹´ì„ ì–´ë–¤ ìŠ¤ë ˆë“œì—ì„œ ì‘ë™ì‹œí‚¤ê²Œ í• ê±´ì§€ë¥¼ ê²°ì •ì‹œí‚¤ëŠ” ì—­í• ì„ í•˜ê³  ìˆìŠµë‹ˆë‹¤.

- **CoroutineDispatcherê°€ ê°€ì§€ëŠ” ìŠ¤ë ˆë“œ í’€ì˜ ëª¨ë“  ìŠ¤ë ˆë“œê°€ ì½”ë£¨í‹´ì„ ì‹¤í–‰í•˜ê³  ìˆì„ ë•Œ ìƒˆë¡œìš´ ì½”ë£¨í‹´ì´ ìƒì„±ë˜ì–´ ìš”ì²­ì´ ë˜ë©´ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ê°€?**
    - ì‘ì—… ëŒ€ê¸°ì—´ì— í•´ë‹¹ ì½”ë£¨í‹´ì„ ì ì¬í•˜ê³  ìˆë‹¤ê°€ ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¤ë ˆë“œê°€ ì¡´ì¬í•  ë•Œ í•´ë‹¹ ìŠ¤ë ˆë“œì— ì½”ë£¨í‹´ì„ ë³´ë‚´ì–´ ì‹¤í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.

- **Dispatchers.IOì™€ Dispatchers.DefaultëŠ” ê°ê° ì–´ë–¤ ì—­í• ì— ì í•©í•œ CoroutineDispatcher ì¸ê°€?**
    - Dispatchers.IO : Network, DB ì‘ì—…
    - Dispatchers.Default : CPU ì§‘ì•½ ì‘ì—…

- **Dispatchers.IOì™€ Dispatchers.DefaultëŠ” ê°ê° ëª‡ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ê°€ì§€ê³  ìˆëŠ”ê°€?**
    - Dispatchers.IO : 64 or JVM í”„ë¡œì„¸ì„œ ìˆ˜ ì¤‘ í° ê°’ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
    - Dispatchers.Default : 2 or ì½”ì–´ ê°¯ìˆ˜ ì¤‘ í° ê°’ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

- **Dispatchers.Defaultì˜ ìŠ¤ë ˆë“œ ê°œìˆ˜ê°€ ì •í•´ì§„ ì´ìœ ê°€ ì–´ë–¤ê²ƒì¸ê°€?**
    - ì½”ë£¨í‹´ì€ ì¤‘ë‹¨ ê°€ëŠ¥í•œ ì‘ì—…ìœ¼ë¡œ ì‘ì—…ì„ ì¤‘ë‹¨í•˜ê³  ì¬ê°œí•  ë•Œ ìŠ¤ë ˆë“œì˜ ë³€ê²½ì¸ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í° ë¦¬ì†ŒìŠ¤ë¥¼ ì†Œëª¨í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìŠ¤ë ˆë“œ ê°œìˆ˜ë¥¼ CPU ì½”ì–´ ë§Œí¼ìœ¼ë¡œ ì„¤ì •í•œ ê²ƒì…ë‹ˆë‹¤. ì¶”ê°€ì ìœ¼ë¡œ CPU ì½”ì–´ëŠ” í•˜ë‚˜ë§ˆë‹¤ ìŠ¤ë ˆë“œ í•˜ë‚˜ë¥¼ ëŒë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- **Dispatchers.IOì™€ Dispatchers.Defaultì˜ limitedParallelism() í•¨ìˆ˜ëŠ” ê°ê° ì–´ë–¤ ìŠ¤ë ˆë“œí’€ì„ ë§Œë“œëŠ”ê°€?**
    - ê³µìœ  ìŠ¤ë ˆë“œí’€ì—ì„œ ìƒˆë¡œìš´ ìŠ¤ë ˆë“œ í’€ì„ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.
        - Default ëŠ” Default ë‚´ì—ì„œ ë§Œë“¤ì–´ì§€ê³ 
        - IOëŠ” 64ê°œê°€ ìˆì§€ë§Œ ìƒˆë¡œìš´ Poolì„ ë§Œë“ ë‹¤.


- **Dispatchers.Mainì˜ êµ¬í˜„ì²´ëŠ” ì–´ë””ì— ìˆê³ , ì–´ë–»ê²Œ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•˜ëŠ”ê°€?**
    - kotlinx.coroutines.android ì—ì„œ êµ¬í˜„í•˜ë©°, AndroidDispatcherFactory ë¥¼ í†µí•´ Dispatcher.Main ì´ ì´ˆê¸°í™” ë©ë‹ˆë‹¤.
        - kotlinx.coroutines.android.AndroidDispatcherFactory
        - kotlinx.coroutines.test.internal.TestMainDispatcherFactory
          ìœ„ ë‘ê°œì˜ Classë¡œ ë¶€í„° êµ¬í˜„ì²´ë¥¼ ë°›ìŠµë‹ˆë‹¤.

- **Dispatchers.Main.immediateëŠ” ì–´ë–¤ ê²ƒì¸ê°€?**
    - ì½”ë£¨í‹´ì„ ì‚¬ìš©í•˜ëŠ” ìŠ¤ë ˆë“œê°€ ì´ë¯¸ Main ì´ë¼ë©´ ì½”ë£¨í‹´ì„ Dispatcher ì— ë³´ë‚´ëŠ” ì‘ì—…, ì¦‰ ì‘ì—… ëŒ€ê¸°ì—´ì— ì ì¬í•˜ëŠ” í–‰ìœ„ë¥¼ í•˜ì§€ ì•Šê³  ë°”ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” í–‰ë™ì„ í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.

## 4ì¥

- Jobì€ ì–´ë–¤ ì—­í• ì„ í•˜ëŠ”ê°€?
  ì½”ë£¨í‹´ì˜ ìƒëª…ì£¼ê¸°ë¥¼ ê´€ë¦¬í•˜ëŠ” ê°ì²´ ì…ë‹ˆë‹¤. ë˜í•œ ìƒíƒœë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- Job.cancel()í•¨ìˆ˜ë¥¼ í˜¸ì¶œ í•˜ë©´ ì½”ë£¨í‹´ì´ ì¦‰ì‹œ ì·¨ì†Œ ë˜ëŠ”ê°€? ì–¸ì œ ì·¨ì†Œ ë˜ëŠ”ê°€?
  ì¦‰ì‹œ ì·¨ì†Œë˜ì§€ ì•Šìœ¼ë©°, í™•ì¸ ì‘ì—…ì„ ê±°ì¹˜ëŠ” ìŠ¤ë ˆë“œ ì „í™˜ ê³¼ì •ì—ì„œ cancel flagë¥¼ í™•ì¸í•˜ì—¬ ì·¨ì†Œ ëœë‹¤.

- Jobì˜ ìƒíƒœ ë³€ìˆ˜ëŠ” ì–´ë–¤ ê²ƒë“¤ì´ ìˆëŠ”ê°€?
  Activity / Cancelled  / Completed

- Jobì´ ì·¨ì†Œ ì™„ë£Œëœ ê²ƒì„ í™•ì¸ í•˜ê¸° ìœ„í•´ì„œ Jobì˜ ì–´ë–¤ ê°’ì„ í™•ì¸í•´ì•¼í•˜ëŠ”ê°€?
  isCancelledì™€ isCOmpletedê°€ true ì¼ ê²½ìš°

withContext ë­ê°€ ë‹¬ë¼?  
